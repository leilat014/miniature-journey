<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="styles/reset.css" />
    <link rel="stylesheet" href="/styles/page.css" />
    <link rel="stylesheet" href="styles/tokens.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fjalla+One&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
      rel="stylesheet"
    />
    <title>Euro Trip</title>
  </head>
  <body class="page">
    <header>
      <h1>
        <svg class="icon">
          <use href="/icons/plane.svg#icon-plane" />
        </svg>
        Traveling with friends
      </h1>
      <h2>
        <a href="index.html">Home</a>
      </h2>

      <h3>
        <svg class="icon">
          <use href="/icons/tag.svg#icon-tag"></use>
        </svg>
        by Leila Touati
      </h3>

      <label
        onchange="
        event.stopPropagation();
        toggleDarkMode(event.target, event.target.checked);
        "
      >
        <input type="checkbox" />
        Dark mode
      </label>
    </header>
    <article>
      <section class="france-pic">
        <img src="france.jpeg" alt="France" />
      </section>

      <!-- mocking an instance of custom element!-->
      <trip-section
        icon-href="/icons/itinerary.svg#icon-map"
        section-class="itinerary"
      >
        <span slot="title"> Itinerary</span>
        <ul slot="links">
          <li><a href="transportation.html">Transportation &rarr;</a></li>
          <li><a href="restaurants.html">Restaurants &rarr;</a></li>
          <li><a href="sightseeing.html">Sightseeing &rarr;</a></li>
          <li><a href="activities.html">Activities &rarr;</a></li>
        </ul>
      </trip-section>

      <trip-section
        icon-href="/icons/preparations.svg#icon-suitcase"
        section-class="preparations"
      >
        <span slot="title"> Preparations</span>
        <span slot="links">
          <ul slot="links">
            <li><a href="packing.html">Packing list &rarr;</a></li>
            <li><a href="https://www.united.com">Book flights &rarr;</a></li>
          </ul>
        </span>
      </trip-section>

      <trip-section
        icon-href="/icons/budget.svg#icon-money"
        section-class="budget"
      >
        <span slot="title"> Budget</span>
        <span slot="links">
          <ul slot="links">
            <li><a href="budget.html">Spreadsheet &rarr;</a></li>
          </ul>
        </span>
      </trip-section>
    </article>

    <script type="module">
      import { define } from "@calpoly/mustang";
      import { tripSectionElement } from "./src/tripSection.ts";

      define({
        "trip-section": tripSectionElement,
      });

      // dark mode button
      document.body.addEventListener("dark-mode:toggle", (event) => {
        const page = event.currentTarget;
        const checked = event.detail.checked;
        page.classList.toggle("dark-mode", checked);
      });

      function toggleDarkMode(target, checked) {
        const customEvent = new CustomEvent("dark-mode:toggle", {
          bubbles: true,
          detail: { checked },
        });
        target.dispatchEvent(customEvent);
      }

      window.toggleDarkMode = toggleDarkMode;
    </script>
  </body>
</html>
